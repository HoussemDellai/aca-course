{
  "version": 4,
  "terraform_version": "1.14.0",
  "serial": 63,
  "lineage": "70a2eb0c-7f43-7049-aafe-61a6dd74ce6f",
  "outputs": {},
  "resources": [
    {
      "mode": "data",
      "type": "azurerm_client_config",
      "name": "current",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "client_id": "04b07795-8ddb-461a-bbee-02f9e1bf7b46",
            "id": "Y2xpZW50Q29uZmlncy9jbGllbnRJZD0wNGIwNzc5NS04ZGRiLTQ2MWEtYmJlZS0wMmY5ZTFiZjdiNDY7b2JqZWN0SWQ9ODE3M2M0NWQtMDM1ZS00NjkyLThmNDAtNTQwY2Q1ZmMwZjE4O3N1YnNjcmlwdGlvbklkPWRjZWY3MDA5LTZiOTQtNDM4Mi1hZmRjLTE3ZWIxNjBkNzA5YTt0ZW5hbnRJZD05MzEzOWQxZS1hM2MxLTRkNzgtOWVkNS04NzhiZTA5MGViYTQ=",
            "object_id": "8173c45d-035e-4692-8f40-540cd5fc0f18",
            "subscription_id": "dcef7009-6b94-4382-afdc-17eb160d709a",
            "tenant_id": "93139d1e-a3c1-4d78-9ed5-878be090eba4",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_application_gateway",
      "name": "appgateway",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "authentication_certificate": [],
            "autoscale_configuration": [],
            "backend_address_pool": [
              {
                "fqdns": [
                  "inspector-gadget.redplant-cabb2971.swedencentral.azurecontainerapps.io"
                ],
                "id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-spoke1-28/providers/Microsoft.Network/applicationGateways/appgateway/backendAddressPools/backend-address-pool",
                "ip_addresses": [],
                "name": "backend-address-pool"
              }
            ],
            "backend_http_settings": [
              {
                "affinity_cookie_name": "ApplicationGatewayAffinity",
                "authentication_certificate": [],
                "connection_draining": [],
                "cookie_based_affinity": "Disabled",
                "dedicated_backend_connection_enabled": false,
                "host_name": "",
                "id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-spoke1-28/providers/Microsoft.Network/applicationGateways/appgateway/backendHttpSettingsCollection/backend-http-settings-https",
                "name": "backend-http-settings-https",
                "path": "",
                "pick_host_name_from_backend_address": true,
                "port": 443,
                "probe_id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-spoke1-28/providers/Microsoft.Network/applicationGateways/appgateway/probes/http-health-probe",
                "probe_name": "http-health-probe",
                "protocol": "Https",
                "request_timeout": 20,
                "trusted_root_certificate_names": []
              }
            ],
            "custom_error_configuration": [],
            "enable_http2": false,
            "fips_enabled": false,
            "firewall_policy_id": "",
            "force_firewall_policy_association": false,
            "frontend_ip_configuration": [
              {
                "id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-spoke1-28/providers/Microsoft.Network/applicationGateways/appgateway/frontendIPConfigurations/frontend-public-ip-configuration",
                "name": "frontend-public-ip-configuration",
                "private_ip_address": "",
                "private_ip_address_allocation": "Dynamic",
                "private_link_configuration_id": "",
                "private_link_configuration_name": "",
                "public_ip_address_id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-spoke1-28/providers/Microsoft.Network/publicIPAddresses/pip-appgateway",
                "subnet_id": ""
              }
            ],
            "frontend_port": [
              {
                "id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-spoke1-28/providers/Microsoft.Network/applicationGateways/appgateway/frontendPorts/frontend-port-http",
                "name": "frontend-port-http",
                "port": 80
              },
              {
                "id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-spoke1-28/providers/Microsoft.Network/applicationGateways/appgateway/frontendPorts/frontend-port-https",
                "name": "frontend-port-https",
                "port": 443
              }
            ],
            "gateway_ip_configuration": [
              {
                "id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-spoke1-28/providers/Microsoft.Network/applicationGateways/appgateway/gatewayIPConfigurations/appgateway-ip-configuration",
                "name": "appgateway-ip-configuration",
                "subnet_id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-spoke1-28/providers/Microsoft.Network/virtualNetworks/vnet-spoke1/subnets/subnet-spoke1-appgw"
              }
            ],
            "global": [],
            "http_listener": [
              {
                "custom_error_configuration": [],
                "firewall_policy_id": "",
                "frontend_ip_configuration_id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-spoke1-28/providers/Microsoft.Network/applicationGateways/appgateway/frontendIPConfigurations/frontend-public-ip-configuration",
                "frontend_ip_configuration_name": "frontend-public-ip-configuration",
                "frontend_port_id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-spoke1-28/providers/Microsoft.Network/applicationGateways/appgateway/frontendPorts/frontend-port-http",
                "frontend_port_name": "frontend-port-http",
                "host_name": "azure-aca-apps.com",
                "host_names": [],
                "id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-spoke1-28/providers/Microsoft.Network/applicationGateways/appgateway/httpListeners/listener-http",
                "name": "listener-http",
                "protocol": "Http",
                "require_sni": false,
                "ssl_certificate_id": "",
                "ssl_certificate_name": "",
                "ssl_profile_id": "",
                "ssl_profile_name": ""
              },
              {
                "custom_error_configuration": [],
                "firewall_policy_id": "",
                "frontend_ip_configuration_id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-spoke1-28/providers/Microsoft.Network/applicationGateways/appgateway/frontendIPConfigurations/frontend-public-ip-configuration",
                "frontend_ip_configuration_name": "frontend-public-ip-configuration",
                "frontend_port_id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-spoke1-28/providers/Microsoft.Network/applicationGateways/appgateway/frontendPorts/frontend-port-https",
                "frontend_port_name": "frontend-port-https",
                "host_name": "azure-aca-apps.com",
                "host_names": [],
                "id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-spoke1-28/providers/Microsoft.Network/applicationGateways/appgateway/httpListeners/listener-https",
                "name": "listener-https",
                "protocol": "Https",
                "require_sni": false,
                "ssl_certificate_id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-spoke1-28/providers/Microsoft.Network/applicationGateways/appgateway/sslCertificates/azure-aca-apps-com",
                "ssl_certificate_name": "azure-aca-apps-com",
                "ssl_profile_id": "",
                "ssl_profile_name": ""
              }
            ],
            "id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-spoke1-28/providers/Microsoft.Network/applicationGateways/appgateway",
            "identity": [
              {
                "identity_ids": [
                  "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-spoke1-28/providers/Microsoft.ManagedIdentity/userAssignedIdentities/identity-appgw"
                ],
                "principal_id": "",
                "tenant_id": "",
                "type": "UserAssigned"
              }
            ],
            "location": "swedencentral",
            "name": "appgateway",
            "private_endpoint_connection": [],
            "private_link_configuration": [],
            "probe": [
              {
                "host": "",
                "id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-spoke1-28/providers/Microsoft.Network/applicationGateways/appgateway/probes/http-health-probe",
                "interval": 30,
                "match": [
                  {
                    "body": "",
                    "status_code": [
                      "200-399"
                    ]
                  }
                ],
                "minimum_servers": 0,
                "name": "http-health-probe",
                "path": "/",
                "pick_host_name_from_backend_http_settings": true,
                "port": 0,
                "protocol": "Https",
                "timeout": 30,
                "unhealthy_threshold": 3
              }
            ],
            "redirect_configuration": [
              {
                "id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-spoke1-28/providers/Microsoft.Network/applicationGateways/appgateway/redirectConfigurations/redirect-configuration",
                "include_path": true,
                "include_query_string": true,
                "name": "redirect-configuration",
                "redirect_type": "Permanent",
                "target_listener_id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-spoke1-28/providers/Microsoft.Network/applicationGateways/appgateway/httpListeners/listener-https",
                "target_listener_name": "listener-https",
                "target_url": ""
              }
            ],
            "request_routing_rule": [
              {
                "backend_address_pool_id": "",
                "backend_address_pool_name": "",
                "backend_http_settings_id": "",
                "backend_http_settings_name": "",
                "http_listener_id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-spoke1-28/providers/Microsoft.Network/applicationGateways/appgateway/httpListeners/listener-http",
                "http_listener_name": "listener-http",
                "id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-spoke1-28/providers/Microsoft.Network/applicationGateways/appgateway/requestRoutingRules/request-routing-rule-http",
                "name": "request-routing-rule-http",
                "priority": 100,
                "redirect_configuration_id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-spoke1-28/providers/Microsoft.Network/applicationGateways/appgateway/redirectConfigurations/redirect-configuration",
                "redirect_configuration_name": "redirect-configuration",
                "rewrite_rule_set_id": "",
                "rewrite_rule_set_name": "",
                "rule_type": "Basic",
                "url_path_map_id": "",
                "url_path_map_name": ""
              },
              {
                "backend_address_pool_id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-spoke1-28/providers/Microsoft.Network/applicationGateways/appgateway/backendAddressPools/backend-address-pool",
                "backend_address_pool_name": "backend-address-pool",
                "backend_http_settings_id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-spoke1-28/providers/Microsoft.Network/applicationGateways/appgateway/backendHttpSettingsCollection/backend-http-settings-https",
                "backend_http_settings_name": "backend-http-settings-https",
                "http_listener_id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-spoke1-28/providers/Microsoft.Network/applicationGateways/appgateway/httpListeners/listener-https",
                "http_listener_name": "listener-https",
                "id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-spoke1-28/providers/Microsoft.Network/applicationGateways/appgateway/requestRoutingRules/request-routing-rule-https",
                "name": "request-routing-rule-https",
                "priority": 200,
                "redirect_configuration_id": "",
                "redirect_configuration_name": "",
                "rewrite_rule_set_id": "",
                "rewrite_rule_set_name": "",
                "rule_type": "Basic",
                "url_path_map_id": "",
                "url_path_map_name": ""
              }
            ],
            "resource_group_name": "rg-spoke1-28",
            "rewrite_rule_set": [],
            "sku": [
              {
                "capacity": 1,
                "name": "Standard_v2",
                "tier": "Standard_v2"
              }
            ],
            "ssl_certificate": [
              {
                "data": "",
                "id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-spoke1-28/providers/Microsoft.Network/applicationGateways/appgateway/sslCertificates/azure-aca-apps-com",
                "key_vault_secret_id": "https://kv-appgw-t8xie.vault.azure.net/secrets/azure-aca-apps-com/76914cba638e4e1eb605806d8d47fad6",
                "name": "azure-aca-apps-com",
                "password": "",
                "public_cert_data": ""
              }
            ],
            "ssl_policy": [
              {
                "cipher_suites": [],
                "disabled_protocols": [],
                "min_protocol_version": "",
                "policy_name": "AppGwSslPolicy20220101",
                "policy_type": "Predefined"
              }
            ],
            "ssl_profile": [],
            "tags": {},
            "timeouts": null,
            "trusted_client_certificate": [],
            "trusted_root_certificate": [],
            "url_path_map": [],
            "waf_configuration": [],
            "zones": [
              "1",
              "2",
              "3"
            ]
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "ssl_certificate"
              }
            ]
          ],
          "identity_schema_version": 0,
          "identity": {
            "name": "appgateway",
            "resource_group_name": "rg-spoke1-28",
            "subscription_id": "dcef7009-6b94-4382-afdc-17eb160d709a"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo1NDAwMDAwMDAwMDAwLCJkZWxldGUiOjU0MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjo1NDAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_container_app.aca-inspector-gadget",
            "azurerm_container_app_environment.env",
            "azurerm_firewall.firewall",
            "azurerm_firewall_policy.firewall-policy",
            "azurerm_key_vault.keyvault",
            "azurerm_key_vault_certificate.local_domain_certs",
            "azurerm_public_ip.pip-appgateway",
            "azurerm_public_ip.pip-firewall",
            "azurerm_resource_group.rg-hub",
            "azurerm_resource_group.rg-spoke1",
            "azurerm_resource_group.rg-spoke2",
            "azurerm_role_assignment.role-certificates-officer",
            "azurerm_subnet.snet-firewall",
            "azurerm_subnet.snet-spoke1-appgw",
            "azurerm_subnet.snet-spoke2-aca",
            "azurerm_user_assigned_identity.identity-appgw",
            "azurerm_virtual_network.vnet-hub",
            "azurerm_virtual_network.vnet-spoke1",
            "azurerm_virtual_network.vnet-spoke2",
            "data.azurerm_client_config.current",
            "random_string.random"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_bastion_host",
      "name": "bastion",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "copy_paste_enabled": true,
            "dns_name": "bst-83e59373-f561-470a-9a4b-7d9a92dddcac.bastion.azure.com",
            "file_copy_enabled": false,
            "id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-hub-28/providers/Microsoft.Network/bastionHosts/bastion-host",
            "ip_configuration": [
              {
                "name": "configuration",
                "public_ip_address_id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-hub-28/providers/Microsoft.Network/publicIPAddresses/pip-bastion",
                "subnet_id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-hub-28/providers/Microsoft.Network/virtualNetworks/vnet-hub/subnets/AzureBastionSubnet"
              }
            ],
            "ip_connect_enabled": false,
            "kerberos_enabled": false,
            "location": "swedencentral",
            "name": "bastion-host",
            "resource_group_name": "rg-hub-28",
            "scale_units": 2,
            "session_recording_enabled": false,
            "shareable_link_enabled": false,
            "sku": "Basic",
            "tags": {},
            "timeouts": null,
            "tunneling_enabled": false,
            "virtual_network_id": "",
            "zones": []
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "name": "bastion-host",
            "resource_group_name": "rg-hub-28",
            "subscription_id": "dcef7009-6b94-4382-afdc-17eb160d709a"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_public_ip.pip",
            "azurerm_resource_group.rg-hub",
            "azurerm_subnet.snet-bastion",
            "azurerm_virtual_network.vnet-hub"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_container_app",
      "name": "aca-inspector-gadget",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "container_app_environment_id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-spoke2-28/providers/Microsoft.App/managedEnvironments/aca-environment",
            "custom_domain_verification_id": "12A824F56ADC4DBFA2BAB33D11CF904692CB9810204E47093CF78548458D595C",
            "dapr": [],
            "id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-spoke2-28/providers/Microsoft.App/containerApps/inspector-gadget",
            "identity": [],
            "ingress": [
              {
                "allow_insecure_connections": false,
                "client_certificate_mode": "",
                "cors": [],
                "custom_domain": [],
                "exposed_port": 0,
                "external_enabled": true,
                "fqdn": "inspector-gadget.redplant-cabb2971.swedencentral.azurecontainerapps.io",
                "ip_security_restriction": [],
                "target_port": 80,
                "traffic_weight": [
                  {
                    "label": "",
                    "latest_revision": true,
                    "percentage": 100,
                    "revision_suffix": ""
                  }
                ],
                "transport": "auto"
              }
            ],
            "latest_revision_fqdn": "inspector-gadget--01uwzaj.redplant-cabb2971.swedencentral.azurecontainerapps.io",
            "latest_revision_name": "inspector-gadget--01uwzaj",
            "location": "swedencentral",
            "max_inactive_revisions": 0,
            "name": "inspector-gadget",
            "outbound_ip_addresses": [
              "4.165.16.196"
            ],
            "registry": [],
            "resource_group_name": "rg-spoke2-28",
            "revision_mode": "Single",
            "secret": [],
            "tags": {},
            "template": [
              {
                "azure_queue_scale_rule": [],
                "container": [
                  {
                    "args": [],
                    "command": [],
                    "cpu": 0.25,
                    "env": [],
                    "ephemeral_storage": "1Gi",
                    "image": "jelledruyts/inspectorgadget",
                    "liveness_probe": [],
                    "memory": "0.5Gi",
                    "name": "inspector-gadget",
                    "readiness_probe": [],
                    "startup_probe": [],
                    "volume_mounts": []
                  }
                ],
                "cooldown_period_in_seconds": 300,
                "custom_scale_rule": [],
                "http_scale_rule": [],
                "init_container": [],
                "max_replicas": 3,
                "min_replicas": 1,
                "polling_interval_in_seconds": 30,
                "revision_suffix": "",
                "tcp_scale_rule": [],
                "termination_grace_period_seconds": 0,
                "volume": []
              }
            ],
            "timeouts": null,
            "workload_profile_name": "profile-D4"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "custom_domain_verification_id"
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_container_app_environment.env",
            "azurerm_firewall.firewall",
            "azurerm_firewall_policy.firewall-policy",
            "azurerm_public_ip.pip-firewall",
            "azurerm_resource_group.rg-hub",
            "azurerm_resource_group.rg-spoke2",
            "azurerm_subnet.snet-firewall",
            "azurerm_subnet.snet-spoke2-aca",
            "azurerm_virtual_network.vnet-hub",
            "azurerm_virtual_network.vnet-spoke2"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_container_app",
      "name": "aca-nginx",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "container_app_environment_id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-spoke2-28/providers/Microsoft.App/managedEnvironments/aca-environment",
            "custom_domain_verification_id": "12A824F56ADC4DBFA2BAB33D11CF904692CB9810204E47093CF78548458D595C",
            "dapr": [],
            "id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-spoke2-28/providers/Microsoft.App/containerApps/nginx",
            "identity": [],
            "ingress": [
              {
                "allow_insecure_connections": false,
                "client_certificate_mode": "",
                "cors": [],
                "custom_domain": [],
                "exposed_port": 0,
                "external_enabled": true,
                "fqdn": "nginx.redplant-cabb2971.swedencentral.azurecontainerapps.io",
                "ip_security_restriction": [],
                "target_port": 80,
                "traffic_weight": [
                  {
                    "label": "",
                    "latest_revision": true,
                    "percentage": 100,
                    "revision_suffix": ""
                  }
                ],
                "transport": "auto"
              }
            ],
            "latest_revision_fqdn": "nginx--rdc68ig.redplant-cabb2971.swedencentral.azurecontainerapps.io",
            "latest_revision_name": "nginx--rdc68ig",
            "location": "swedencentral",
            "max_inactive_revisions": 0,
            "name": "nginx",
            "outbound_ip_addresses": [
              "4.165.16.196"
            ],
            "registry": [],
            "resource_group_name": "rg-spoke2-28",
            "revision_mode": "Single",
            "secret": [],
            "tags": {},
            "template": [
              {
                "azure_queue_scale_rule": [],
                "container": [
                  {
                    "args": [],
                    "command": [],
                    "cpu": 0.25,
                    "env": [],
                    "ephemeral_storage": "1Gi",
                    "image": "nginx:latest",
                    "liveness_probe": [],
                    "memory": "0.5Gi",
                    "name": "nginx",
                    "readiness_probe": [],
                    "startup_probe": [],
                    "volume_mounts": []
                  }
                ],
                "cooldown_period_in_seconds": 300,
                "custom_scale_rule": [],
                "http_scale_rule": [],
                "init_container": [],
                "max_replicas": 3,
                "min_replicas": 1,
                "polling_interval_in_seconds": 30,
                "revision_suffix": "",
                "tcp_scale_rule": [],
                "termination_grace_period_seconds": 0,
                "volume": []
              }
            ],
            "timeouts": null,
            "workload_profile_name": "profile-D4"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "custom_domain_verification_id"
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_container_app_environment.env",
            "azurerm_firewall.firewall",
            "azurerm_firewall_policy.firewall-policy",
            "azurerm_public_ip.pip-firewall",
            "azurerm_resource_group.rg-hub",
            "azurerm_resource_group.rg-spoke2",
            "azurerm_subnet.snet-firewall",
            "azurerm_subnet.snet-spoke2-aca",
            "azurerm_virtual_network.vnet-hub",
            "azurerm_virtual_network.vnet-spoke2"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_container_app_environment",
      "name": "env",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "custom_domain_verification_id": "12A824F56ADC4DBFA2BAB33D11CF904692CB9810204E47093CF78548458D595C",
            "dapr_application_insights_connection_string": "",
            "default_domain": "redplant-cabb2971.swedencentral.azurecontainerapps.io",
            "docker_bridge_cidr": "",
            "id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-spoke2-28/providers/Microsoft.App/managedEnvironments/aca-environment",
            "identity": [],
            "infrastructure_resource_group_name": "ME_aca-environment_rg-spoke2-28_swedencentral",
            "infrastructure_subnet_id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-spoke2-28/providers/Microsoft.Network/virtualNetworks/vnet-spoke2/subnets/subnet-spoke2-workload",
            "internal_load_balancer_enabled": true,
            "location": "swedencentral",
            "log_analytics_workspace_id": "",
            "logs_destination": "",
            "mutual_tls_enabled": false,
            "name": "aca-environment",
            "platform_reserved_cidr": "",
            "platform_reserved_dns_ip_address": "",
            "public_network_access": "Disabled",
            "resource_group_name": "rg-spoke2-28",
            "static_ip_address": "10.2.0.139",
            "tags": {},
            "timeouts": null,
            "workload_profile": [
              {
                "maximum_count": 0,
                "minimum_count": 0,
                "name": "Consumption",
                "workload_profile_type": "Consumption"
              },
              {
                "maximum_count": 1,
                "minimum_count": 1,
                "name": "profile-D4",
                "workload_profile_type": "D4"
              }
            ],
            "zone_redundancy_enabled": true
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "dapr_application_insights_connection_string"
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_firewall.firewall",
            "azurerm_firewall_policy.firewall-policy",
            "azurerm_public_ip.pip-firewall",
            "azurerm_resource_group.rg-hub",
            "azurerm_resource_group.rg-spoke2",
            "azurerm_subnet.snet-firewall",
            "azurerm_subnet.snet-spoke2-aca",
            "azurerm_virtual_network.vnet-hub",
            "azurerm_virtual_network.vnet-spoke2"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_dns_a_record",
      "name": "a-record-app",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "fqdn": "azure-aca-apps.com.",
            "id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-hub-28/providers/Microsoft.Network/dnsZones/azure-aca-apps.com/A/@",
            "name": "@",
            "records": [
              "135.225.6.28"
            ],
            "resource_group_name": "rg-hub-28",
            "tags": {},
            "target_resource_id": "",
            "timeouts": null,
            "ttl": 300,
            "zone_name": "azure-aca-apps.com"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=",
          "dependencies": [
            "azurerm_dns_zone.dns-zone-apps",
            "azurerm_public_ip.pip-appgateway",
            "azurerm_resource_group.rg-hub",
            "azurerm_resource_group.rg-spoke1"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_dns_zone",
      "name": "dns-zone-apps",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-hub-28/providers/Microsoft.Network/dnsZones/azure-aca-apps.com",
            "max_number_of_record_sets": 10000,
            "name": "azure-aca-apps.com",
            "name_servers": [
              "ns1-05.azure-dns.com.",
              "ns2-05.azure-dns.net.",
              "ns3-05.azure-dns.org.",
              "ns4-05.azure-dns.info."
            ],
            "number_of_record_sets": 3,
            "resource_group_name": "rg-hub-28",
            "soa_record": [
              {
                "email": "azuredns-hostmaster.microsoft.com",
                "expire_time": 2419200,
                "fqdn": "azure-aca-apps.com.",
                "host_name": "ns1-05.azure-dns.com.",
                "minimum_ttl": 300,
                "refresh_time": 3600,
                "retry_time": 300,
                "serial_number": 1,
                "tags": {},
                "ttl": 3600
              }
            ],
            "tags": {},
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIyIn0=",
          "dependencies": [
            "azurerm_resource_group.rg-hub"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_firewall",
      "name": "firewall",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "dns_proxy_enabled": false,
            "dns_servers": [],
            "firewall_policy_id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-hub-28/providers/Microsoft.Network/firewallPolicies/firewall-policy",
            "id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-hub-28/providers/Microsoft.Network/azureFirewalls/firewall",
            "ip_configuration": [
              {
                "name": "configuration",
                "private_ip_address": "172.16.0.4",
                "public_ip_address_id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-hub-28/providers/Microsoft.Network/publicIPAddresses/pip-firewall",
                "subnet_id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-hub-28/providers/Microsoft.Network/virtualNetworks/vnet-hub/subnets/AzureFirewallSubnet"
              }
            ],
            "location": "swedencentral",
            "management_ip_configuration": [],
            "name": "firewall",
            "private_ip_ranges": [],
            "resource_group_name": "rg-hub-28",
            "sku_name": "AZFW_VNet",
            "sku_tier": "Standard",
            "tags": {},
            "threat_intel_mode": "Alert",
            "timeouts": null,
            "virtual_hub": [],
            "zones": [
              "1"
            ]
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "name": "firewall",
            "resource_group_name": "rg-hub-28",
            "subscription_id": "dcef7009-6b94-4382-afdc-17eb160d709a"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo1NDAwMDAwMDAwMDAwLCJkZWxldGUiOjU0MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjo1NDAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_firewall_policy.firewall-policy",
            "azurerm_public_ip.pip-firewall",
            "azurerm_resource_group.rg-hub",
            "azurerm_subnet.snet-firewall",
            "azurerm_virtual_network.vnet-hub"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_firewall_policy",
      "name": "firewall-policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "auto_learn_private_ranges_enabled": false,
            "base_policy_id": "",
            "child_policies": [],
            "dns": [
              {
                "proxy_enabled": true,
                "servers": [
                  "168.63.129.16"
                ]
              }
            ],
            "explicit_proxy": [],
            "firewalls": [
              "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-hub-28/providers/Microsoft.Network/azureFirewalls/firewall"
            ],
            "id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-hub-28/providers/Microsoft.Network/firewallPolicies/firewall-policy",
            "identity": [],
            "insights": [],
            "intrusion_detection": [],
            "location": "swedencentral",
            "name": "firewall-policy",
            "private_ip_ranges": [],
            "resource_group_name": "rg-hub-28",
            "rule_collection_groups": [
              "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-hub-28/providers/Microsoft.Network/firewallPolicies/firewall-policy/ruleCollectionGroups/policy-group-allow"
            ],
            "sku": "Standard",
            "sql_redirect_allowed": null,
            "tags": {},
            "threat_intelligence_allowlist": [],
            "threat_intelligence_mode": "Alert",
            "timeouts": null,
            "tls_certificate": []
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "name": "firewall-policy",
            "resource_group_name": "rg-hub-28",
            "subscription_id": "dcef7009-6b94-4382-afdc-17eb160d709a"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.rg-hub"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_firewall_policy_rule_collection_group",
      "name": "policy-group-allow",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "application_rule_collection": [
              {
                "action": "Allow",
                "name": "allow-all",
                "priority": 100,
                "rule": [
                  {
                    "description": "",
                    "destination_addresses": [],
                    "destination_fqdn_tags": [],
                    "destination_fqdns": [
                      "*"
                    ],
                    "destination_urls": [],
                    "http_headers": [],
                    "name": "allow-all",
                    "protocols": [
                      {
                        "port": 80,
                        "type": "Http"
                      },
                      {
                        "port": 443,
                        "type": "Https"
                      }
                    ],
                    "source_addresses": [
                      "*"
                    ],
                    "source_ip_groups": [],
                    "terminate_tls": false,
                    "web_categories": []
                  }
                ]
              }
            ],
            "firewall_policy_id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-hub-28/providers/Microsoft.Network/firewallPolicies/firewall-policy",
            "id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-hub-28/providers/Microsoft.Network/firewallPolicies/firewall-policy/ruleCollectionGroups/policy-group-allow",
            "name": "policy-group-allow",
            "nat_rule_collection": [],
            "network_rule_collection": [
              {
                "action": "Allow",
                "name": "allow-spokes-traffic",
                "priority": 200,
                "rule": [
                  {
                    "description": "",
                    "destination_addresses": [
                      "10.2.0.0/16"
                    ],
                    "destination_fqdns": [],
                    "destination_ip_groups": [],
                    "destination_ports": [
                      "*"
                    ],
                    "name": "allow-spoke1-to-spoke2",
                    "protocols": [
                      "TCP",
                      "UDP",
                      "ICMP",
                      "Any"
                    ],
                    "source_addresses": [
                      "10.1.0.0/16"
                    ],
                    "source_ip_groups": []
                  },
                  {
                    "description": "",
                    "destination_addresses": [
                      "10.1.0.0/16"
                    ],
                    "destination_fqdns": [],
                    "destination_ip_groups": [],
                    "destination_ports": [
                      "*"
                    ],
                    "name": "allow-spoke2-to-spoke1",
                    "protocols": [
                      "TCP",
                      "UDP",
                      "ICMP",
                      "Any"
                    ],
                    "source_addresses": [
                      "10.2.0.0/16"
                    ],
                    "source_ip_groups": []
                  }
                ]
              }
            ],
            "priority": 1000,
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_firewall.firewall",
            "azurerm_firewall_policy.firewall-policy",
            "azurerm_public_ip.pip-firewall",
            "azurerm_resource_group.rg-hub",
            "azurerm_resource_group.rg-spoke1",
            "azurerm_resource_group.rg-spoke2",
            "azurerm_subnet.snet-firewall",
            "azurerm_virtual_network.vnet-hub",
            "azurerm_virtual_network.vnet-spoke1",
            "azurerm_virtual_network.vnet-spoke2"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_key_vault",
      "name": "keyvault",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "access_policy": [],
            "contact": [],
            "enable_rbac_authorization": true,
            "enabled_for_deployment": false,
            "enabled_for_disk_encryption": false,
            "enabled_for_template_deployment": false,
            "id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-spoke1-28/providers/Microsoft.KeyVault/vaults/kv-appgw-t8xie",
            "location": "swedencentral",
            "name": "kv-appgw-t8xie",
            "network_acls": [
              {
                "bypass": "AzureServices",
                "default_action": "Allow",
                "ip_rules": [],
                "virtual_network_subnet_ids": []
              }
            ],
            "public_network_access_enabled": true,
            "purge_protection_enabled": false,
            "rbac_authorization_enabled": true,
            "resource_group_name": "rg-spoke1-28",
            "sku_name": "standard",
            "soft_delete_retention_days": 7,
            "tags": {},
            "tenant_id": "93139d1e-a3c1-4d78-9ed5-878be090eba4",
            "timeouts": null,
            "vault_uri": "https://kv-appgw-t8xie.vault.azure.net/"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIyIn0=",
          "dependencies": [
            "azurerm_resource_group.rg-spoke1",
            "data.azurerm_client_config.current",
            "random_string.random"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_key_vault_certificate",
      "name": "local_domain_certs",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "certificate": [],
            "certificate_attribute": [
              {
                "created": "2025-11-24T11:26:04Z",
                "enabled": true,
                "expires": "2026-11-24T11:26:03Z",
                "not_before": "2025-11-24T11:16:03Z",
                "recovery_level": "CustomizedRecoverable+Purgeable",
                "updated": "2025-11-24T11:26:04Z"
              }
            ],
            "certificate_data": "308203573082023FA003020102021009EE91981AA14F3FB8B363B99321AC5B300D06092A864886F70D01010B0500301D311B301906035504031312617A7572652D6163612D617070732E636F6D301E170D3235313132343131313630335A170D3236313132343131323630335A301D311B301906035504031312617A7572652D6163612D617070732E636F6D30820122300D06092A864886F70D01010105000382010F003082010A0282010100CD51D28994822D12747A3E8699B764EF9732CCEBE95F759F9326C67E3547E1C5B09A495FA31772BA883E6CABB2F296191FA57B50CD6BE2D5D89BDF7B3C543AA5D90EC19BC57142C80A1217B7F62039EF43452D4A03FABC7088CDAA1379EEAAA3B0FC818E1E7B6A35D1DCE161FCB9E35E889A59EED12226AB98FCEF4CBFB59C36DDBC9C7C44C3462F37F5A5F4E9E879DE2C20C793DB561C38B262DDBDA6F5847C677E599B73B249F1F3B4012C4C3F9580D39AD3B953FF79A431AFCA913050A0EBEFC97C1F562FFFDC8058212213EE43F03FF8ABDD58A12405396EB25284A33ED3C91885A337C61FFBB497AC9A61DAC0711E00100EFA92E22D2670CBBD0C7B3AE90203010001A3819230818F300E0603551D0F0101FF0404030205A030090603551D130402300030130603551D25040C300A06082B06010505070301301D0603551D11041630148212617A7572652D6163612D617070732E636F6D301F0603551D23041830168014DF3BDF22229E696DAC934FC6E6A0D2AD3BB57820301D0603551D0E04160414DF3BDF22229E696DAC934FC6E6A0D2AD3BB57820300D06092A864886F70D01010B0500038201010058F3958B44B0F3499EF2DA542E404E21F3787A8E74447A6A25224B1116086F0C936127AA5E9386C1C5A56613BE87EE8A5B4E17B1BC97B951D12E39B61A8AF8416ED62B91088DC64D7053BB0D8460F5557FEC44802D8F3E2453A0884EBD5595B50C280BB3E1EC646B338256E97DB4D86249BFF3F830932614768DF856755C302337F3F780FC9CD7E63C12DA5926369F9C38C1C1EA164F8DCA7C08D2E9169E4534506CFFA6B99C30D859FFA344960FB985AB7AE8DCE6D229CAB1BFEF59E565A44A3171819AFBA5062042AE3FDE3A4526A46D3C425F90EBF32D22743686CFF705ADF362192A77E1A2DB07E9791DB1E03F839A2415A67041E640FFE3106BC8986AEC",
            "certificate_data_base64": "MIIDVzCCAj+gAwIBAgIQCe6RmBqhTz+4s2O5kyGsWzANBgkqhkiG9w0BAQsFADAdMRswGQYDVQQDExJhenVyZS1hY2EtYXBwcy5jb20wHhcNMjUxMTI0MTExNjAzWhcNMjYxMTI0MTEyNjAzWjAdMRswGQYDVQQDExJhenVyZS1hY2EtYXBwcy5jb20wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDNUdKJlIItEnR6PoaZt2TvlzLM6+lfdZ+TJsZ+NUfhxbCaSV+jF3K6iD5sq7LylhkfpXtQzWvi1dib33s8VDql2Q7Bm8VxQsgKEhe39iA570NFLUoD+rxwiM2qE3nuqqOw/IGOHntqNdHc4WH8ueNeiJpZ7tEiJquY/O9Mv7WcNt28nHxEw0YvN/Wl9Onoed4sIMeT21YcOLJi3b2m9YR8Z35Zm3OySfHztAEsTD+VgNOa07lT/3mkMa/KkTBQoOvvyXwfVi//3IBYISIT7kPwP/ir3VihJAU5brJShKM+08kYhaM3xh/7tJesmmHawHEeABAO+pLiLSZwy70MezrpAgMBAAGjgZIwgY8wDgYDVR0PAQH/BAQDAgWgMAkGA1UdEwQCMAAwEwYDVR0lBAwwCgYIKwYBBQUHAwEwHQYDVR0RBBYwFIISYXp1cmUtYWNhLWFwcHMuY29tMB8GA1UdIwQYMBaAFN873yIinmltrJNPxuag0q07tXggMB0GA1UdDgQWBBTfO98iIp5pbayTT8bmoNKtO7V4IDANBgkqhkiG9w0BAQsFAAOCAQEAWPOVi0Sw80me8tpULkBOIfN4eo50RHpqJSJLERYIbwyTYSeqXpOGwcWlZhO+h+6KW04XsbyXuVHRLjm2Gor4QW7WK5EIjcZNcFO7DYRg9VV/7ESALY8+JFOgiE69VZW1DCgLs+HsZGszglbpfbTYYkm/8/gwkyYUdo34VnVcMCM38/eA/JzX5jwS2lkmNp+cOMHB6hZPjcp8CNLpFp5FNFBs/6a5nDDYWf+jRJYPuYWreujc5tIpyrG/71nlZaRKMXGBmvulBiBCrj/eOkUmpG08Ql+Q6/MtInQ2hs/3Ba3zYhkqd+Gi2wfpeR2x4D+DmiQVpnBB5kD/4xBryJhq7A==",
            "certificate_policy": [
              {
                "issuer_parameters": [
                  {
                    "name": "Self"
                  }
                ],
                "key_properties": [
                  {
                    "curve": "",
                    "exportable": true,
                    "key_size": 2048,
                    "key_type": "RSA",
                    "reuse_key": true
                  }
                ],
                "lifetime_action": [
                  {
                    "action": [
                      {
                        "action_type": "AutoRenew"
                      }
                    ],
                    "trigger": [
                      {
                        "days_before_expiry": 30,
                        "lifetime_percentage": 0
                      }
                    ]
                  }
                ],
                "secret_properties": [
                  {
                    "content_type": "application/x-pkcs12"
                  }
                ],
                "x509_certificate_properties": [
                  {
                    "extended_key_usage": [
                      "1.3.6.1.5.5.7.3.1"
                    ],
                    "key_usage": [
                      "digitalSignature",
                      "keyEncipherment"
                    ],
                    "subject": "CN=azure-aca-apps.com",
                    "subject_alternative_names": [
                      {
                        "dns_names": [
                          "azure-aca-apps.com"
                        ],
                        "emails": [],
                        "upns": []
                      }
                    ],
                    "validity_in_months": 12
                  }
                ]
              }
            ],
            "id": "https://kv-appgw-t8xie.vault.azure.net/certificates/azure-aca-apps-com/76914cba638e4e1eb605806d8d47fad6",
            "key_vault_id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-spoke1-28/providers/Microsoft.KeyVault/vaults/kv-appgw-t8xie",
            "name": "azure-aca-apps-com",
            "resource_manager_id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-spoke1-28/providers/Microsoft.KeyVault/vaults/kv-appgw-t8xie/certificates/azure-aca-apps-com/versions/76914cba638e4e1eb605806d8d47fad6",
            "resource_manager_versionless_id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-spoke1-28/providers/Microsoft.KeyVault/vaults/kv-appgw-t8xie/certificates/azure-aca-apps-com",
            "secret_id": "https://kv-appgw-t8xie.vault.azure.net/secrets/azure-aca-apps-com/76914cba638e4e1eb605806d8d47fad6",
            "tags": {},
            "thumbprint": "EDD5AA42FEEB71664998F2985C9B924A019B9672",
            "timeouts": null,
            "version": "76914cba638e4e1eb605806d8d47fad6",
            "versionless_id": "https://kv-appgw-t8xie.vault.azure.net/certificates/azure-aca-apps-com",
            "versionless_secret_id": "https://kv-appgw-t8xie.vault.azure.net/secrets/azure-aca-apps-com"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozNjAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjE4MDAwMDAwMDAwMDAsInVwZGF0ZSI6MTgwMDAwMDAwMDAwMH19",
          "dependencies": [
            "azurerm_key_vault.keyvault",
            "azurerm_resource_group.rg-spoke1",
            "azurerm_role_assignment.role-certificates-officer",
            "data.azurerm_client_config.current",
            "random_string.random"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_private_dns_a_record",
      "name": "a-record-aca",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "fqdn": "redplant-cabb2971.swedencentral.azurecontainerapps.io.",
            "id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-spoke2-28/providers/Microsoft.Network/privateDnsZones/redplant-cabb2971.swedencentral.azurecontainerapps.io/A/@",
            "name": "@",
            "records": [
              "10.2.0.139"
            ],
            "resource_group_name": "rg-spoke2-28",
            "tags": {},
            "timeouts": null,
            "ttl": 300,
            "zone_name": "redplant-cabb2971.swedencentral.azurecontainerapps.io"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_container_app_environment.env",
            "azurerm_firewall.firewall",
            "azurerm_firewall_policy.firewall-policy",
            "azurerm_private_dns_zone.private-dns-zone-aca",
            "azurerm_public_ip.pip-firewall",
            "azurerm_resource_group.rg-hub",
            "azurerm_resource_group.rg-spoke2",
            "azurerm_subnet.snet-firewall",
            "azurerm_subnet.snet-spoke2-aca",
            "azurerm_virtual_network.vnet-hub",
            "azurerm_virtual_network.vnet-spoke2"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_private_dns_a_record",
      "name": "a-record-wild-card",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "fqdn": "*.redplant-cabb2971.swedencentral.azurecontainerapps.io.",
            "id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-spoke2-28/providers/Microsoft.Network/privateDnsZones/redplant-cabb2971.swedencentral.azurecontainerapps.io/A/*",
            "name": "*",
            "records": [
              "10.2.0.139"
            ],
            "resource_group_name": "rg-spoke2-28",
            "tags": {},
            "timeouts": null,
            "ttl": 300,
            "zone_name": "redplant-cabb2971.swedencentral.azurecontainerapps.io"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_container_app_environment.env",
            "azurerm_firewall.firewall",
            "azurerm_firewall_policy.firewall-policy",
            "azurerm_private_dns_zone.private-dns-zone-aca",
            "azurerm_public_ip.pip-firewall",
            "azurerm_resource_group.rg-hub",
            "azurerm_resource_group.rg-spoke2",
            "azurerm_subnet.snet-firewall",
            "azurerm_subnet.snet-spoke2-aca",
            "azurerm_virtual_network.vnet-hub",
            "azurerm_virtual_network.vnet-spoke2"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_private_dns_zone",
      "name": "private-dns-zone-aca",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-spoke2-28/providers/Microsoft.Network/privateDnsZones/redplant-cabb2971.swedencentral.azurecontainerapps.io",
            "max_number_of_record_sets": 25000,
            "max_number_of_virtual_network_links": 1000,
            "max_number_of_virtual_network_links_with_registration": 100,
            "name": "redplant-cabb2971.swedencentral.azurecontainerapps.io",
            "number_of_record_sets": 3,
            "resource_group_name": "rg-spoke2-28",
            "soa_record": [
              {
                "email": "azureprivatedns-host.microsoft.com",
                "expire_time": 2419200,
                "fqdn": "redplant-cabb2971.swedencentral.azurecontainerapps.io.",
                "host_name": "azureprivatedns.net",
                "minimum_ttl": 10,
                "refresh_time": 3600,
                "retry_time": 300,
                "serial_number": 1,
                "tags": {},
                "ttl": 3600
              }
            ],
            "tags": {},
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "name": "redplant-cabb2971.swedencentral.azurecontainerapps.io",
            "resource_group_name": "rg-spoke2-28",
            "subscription_id": "dcef7009-6b94-4382-afdc-17eb160d709a"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_container_app_environment.env",
            "azurerm_firewall.firewall",
            "azurerm_firewall_policy.firewall-policy",
            "azurerm_public_ip.pip-firewall",
            "azurerm_resource_group.rg-hub",
            "azurerm_resource_group.rg-spoke2",
            "azurerm_subnet.snet-firewall",
            "azurerm_subnet.snet-spoke2-aca",
            "azurerm_virtual_network.vnet-hub",
            "azurerm_virtual_network.vnet-spoke2"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_private_dns_zone",
      "name": "private_dns_zone_keyvault",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-spoke1-28/providers/Microsoft.Network/privateDnsZones/privatelink.vaultcore.azure.net",
            "max_number_of_record_sets": 25000,
            "max_number_of_virtual_network_links": 1000,
            "max_number_of_virtual_network_links_with_registration": 100,
            "name": "privatelink.vaultcore.azure.net",
            "number_of_record_sets": 2,
            "resource_group_name": "rg-spoke1-28",
            "soa_record": [
              {
                "email": "azureprivatedns-host.microsoft.com",
                "expire_time": 2419200,
                "fqdn": "privatelink.vaultcore.azure.net.",
                "host_name": "azureprivatedns.net",
                "minimum_ttl": 10,
                "refresh_time": 3600,
                "retry_time": 300,
                "serial_number": 1,
                "tags": {},
                "ttl": 3600
              }
            ],
            "tags": {},
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "name": "privatelink.vaultcore.azure.net",
            "resource_group_name": "rg-spoke1-28",
            "subscription_id": "dcef7009-6b94-4382-afdc-17eb160d709a"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.rg-spoke1"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_private_dns_zone_virtual_network_link",
      "name": "dns-keyvault",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-spoke1-28/providers/Microsoft.Network/privateDnsZones/privatelink.vaultcore.azure.net/virtualNetworkLinks/dns-keyvault",
            "name": "dns-keyvault",
            "private_dns_zone_name": "privatelink.vaultcore.azure.net",
            "registration_enabled": false,
            "resolution_policy": "Default",
            "resource_group_name": "rg-spoke1-28",
            "tags": {},
            "timeouts": null,
            "virtual_network_id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-spoke1-28/providers/Microsoft.Network/virtualNetworks/vnet-spoke1"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "name": "dns-keyvault",
            "private_dns_zone_name": "privatelink.vaultcore.azure.net",
            "resource_group_name": "rg-spoke1-28",
            "subscription_id": "dcef7009-6b94-4382-afdc-17eb160d709a"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_firewall.firewall",
            "azurerm_firewall_policy.firewall-policy",
            "azurerm_private_dns_zone.private_dns_zone_keyvault",
            "azurerm_public_ip.pip-firewall",
            "azurerm_resource_group.rg-hub",
            "azurerm_resource_group.rg-spoke1",
            "azurerm_subnet.snet-firewall",
            "azurerm_virtual_network.vnet-hub",
            "azurerm_virtual_network.vnet-spoke1"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_private_dns_zone_virtual_network_link",
      "name": "link-dns-aca-vnet-spoke1",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-spoke2-28/providers/Microsoft.Network/privateDnsZones/redplant-cabb2971.swedencentral.azurecontainerapps.io/virtualNetworkLinks/link-dns-aca-vnet-spoke1",
            "name": "link-dns-aca-vnet-spoke1",
            "private_dns_zone_name": "redplant-cabb2971.swedencentral.azurecontainerapps.io",
            "registration_enabled": false,
            "resolution_policy": "",
            "resource_group_name": "rg-spoke2-28",
            "tags": {},
            "timeouts": null,
            "virtual_network_id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-spoke1-28/providers/Microsoft.Network/virtualNetworks/vnet-spoke1"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "name": "link-dns-aca-vnet-spoke1",
            "private_dns_zone_name": "redplant-cabb2971.swedencentral.azurecontainerapps.io",
            "resource_group_name": "rg-spoke2-28",
            "subscription_id": "dcef7009-6b94-4382-afdc-17eb160d709a"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_container_app_environment.env",
            "azurerm_firewall.firewall",
            "azurerm_firewall_policy.firewall-policy",
            "azurerm_private_dns_zone.private-dns-zone-aca",
            "azurerm_public_ip.pip-firewall",
            "azurerm_resource_group.rg-hub",
            "azurerm_resource_group.rg-spoke1",
            "azurerm_resource_group.rg-spoke2",
            "azurerm_subnet.snet-firewall",
            "azurerm_subnet.snet-spoke2-aca",
            "azurerm_virtual_network.vnet-hub",
            "azurerm_virtual_network.vnet-spoke1",
            "azurerm_virtual_network.vnet-spoke2"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_private_endpoint",
      "name": "pe-keyvault",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "custom_dns_configs": [],
            "custom_network_interface_name": "nic-pe-keyvault",
            "id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-spoke1-28/providers/Microsoft.Network/privateEndpoints/pe-keyvault",
            "ip_configuration": [],
            "location": "swedencentral",
            "name": "pe-keyvault",
            "network_interface": [
              {
                "id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-spoke1-28/providers/Microsoft.Network/networkInterfaces/nic-pe-keyvault",
                "name": "nic-pe-keyvault"
              }
            ],
            "private_dns_zone_configs": [
              {
                "id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-spoke1-28/providers/Microsoft.Network/privateEndpoints/pe-keyvault/privateDnsZoneGroups/private-dns-zone-group-keyvault/privateDnsZoneConfigs/privatelink.vaultcore.azure.net",
                "name": "privatelink.vaultcore.azure.net",
                "private_dns_zone_id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-spoke1-28/providers/Microsoft.Network/privateDnsZones/privatelink.vaultcore.azure.net",
                "record_sets": [
                  {
                    "fqdn": "kv-appgw-t8xie.privatelink.vaultcore.azure.net",
                    "ip_addresses": [
                      "10.1.2.4"
                    ],
                    "name": "kv-appgw-t8xie",
                    "ttl": 10,
                    "type": "A"
                  }
                ]
              }
            ],
            "private_dns_zone_group": [
              {
                "id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-spoke1-28/providers/Microsoft.Network/privateEndpoints/pe-keyvault/privateDnsZoneGroups/private-dns-zone-group-keyvault",
                "name": "private-dns-zone-group-keyvault",
                "private_dns_zone_ids": [
                  "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-spoke1-28/providers/Microsoft.Network/privateDnsZones/privatelink.vaultcore.azure.net"
                ]
              }
            ],
            "private_service_connection": [
              {
                "is_manual_connection": false,
                "name": "connection-keyvault",
                "private_connection_resource_alias": "",
                "private_connection_resource_id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-spoke1-28/providers/Microsoft.KeyVault/vaults/kv-appgw-t8xie",
                "private_ip_address": "10.1.2.4",
                "request_message": "",
                "subresource_names": [
                  "vault"
                ]
              }
            ],
            "resource_group_name": "rg-spoke1-28",
            "subnet_id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-spoke1-28/providers/Microsoft.Network/virtualNetworks/vnet-spoke1/subnets/snet-spoke1-pe",
            "tags": {},
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "name": "pe-keyvault",
            "resource_group_name": "rg-spoke1-28",
            "subscription_id": "dcef7009-6b94-4382-afdc-17eb160d709a"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozNjAwMDAwMDAwMDAwLCJkZWxldGUiOjM2MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjozNjAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_firewall.firewall",
            "azurerm_firewall_policy.firewall-policy",
            "azurerm_key_vault.keyvault",
            "azurerm_private_dns_zone.private_dns_zone_keyvault",
            "azurerm_public_ip.pip-firewall",
            "azurerm_resource_group.rg-hub",
            "azurerm_resource_group.rg-spoke1",
            "azurerm_subnet.snet-firewall",
            "azurerm_subnet.snet-spoke1-pe",
            "azurerm_virtual_network.vnet-hub",
            "azurerm_virtual_network.vnet-spoke1",
            "data.azurerm_client_config.current",
            "random_string.random"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_public_ip",
      "name": "pip",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "allocation_method": "Static",
            "ddos_protection_mode": "VirtualNetworkInherited",
            "ddos_protection_plan_id": null,
            "domain_name_label": null,
            "domain_name_label_scope": null,
            "edge_zone": "",
            "fqdn": null,
            "id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-hub-28/providers/Microsoft.Network/publicIPAddresses/pip-bastion",
            "idle_timeout_in_minutes": 4,
            "ip_address": "20.240.232.64",
            "ip_tags": {},
            "ip_version": "IPv4",
            "location": "swedencentral",
            "name": "pip-bastion",
            "public_ip_prefix_id": null,
            "resource_group_name": "rg-hub-28",
            "reverse_fqdn": null,
            "sku": "Standard",
            "sku_tier": "Regional",
            "tags": {},
            "timeouts": null,
            "zones": []
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.rg-hub"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_public_ip",
      "name": "pip-appgateway",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "allocation_method": "Static",
            "ddos_protection_mode": "VirtualNetworkInherited",
            "ddos_protection_plan_id": null,
            "domain_name_label": null,
            "domain_name_label_scope": null,
            "edge_zone": "",
            "fqdn": null,
            "id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-spoke1-28/providers/Microsoft.Network/publicIPAddresses/pip-appgateway",
            "idle_timeout_in_minutes": 4,
            "ip_address": "135.225.6.28",
            "ip_tags": {},
            "ip_version": "IPv4",
            "location": "swedencentral",
            "name": "pip-appgateway",
            "public_ip_prefix_id": null,
            "resource_group_name": "rg-spoke1-28",
            "reverse_fqdn": null,
            "sku": "Standard",
            "sku_tier": "Regional",
            "tags": {},
            "timeouts": null,
            "zones": [
              "1",
              "2",
              "3"
            ]
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.rg-spoke1"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_public_ip",
      "name": "pip-firewall",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "allocation_method": "Static",
            "ddos_protection_mode": "VirtualNetworkInherited",
            "ddos_protection_plan_id": null,
            "domain_name_label": null,
            "domain_name_label_scope": null,
            "edge_zone": "",
            "fqdn": null,
            "id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-hub-28/providers/Microsoft.Network/publicIPAddresses/pip-firewall",
            "idle_timeout_in_minutes": 4,
            "ip_address": "20.240.218.3",
            "ip_tags": {},
            "ip_version": "IPv4",
            "location": "swedencentral",
            "name": "pip-firewall",
            "public_ip_prefix_id": null,
            "resource_group_name": "rg-hub-28",
            "reverse_fqdn": null,
            "sku": "Standard",
            "sku_tier": "Regional",
            "tags": {},
            "timeouts": null,
            "zones": [
              "1"
            ]
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.rg-hub"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_resource_group",
      "name": "rg-hub",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-hub-28",
            "location": "swedencentral",
            "managed_by": "",
            "name": "rg-hub-28",
            "tags": {},
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "name": "rg-hub-28",
            "subscription_id": "dcef7009-6b94-4382-afdc-17eb160d709a"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo1NDAwMDAwMDAwMDAwLCJkZWxldGUiOjU0MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjo1NDAwMDAwMDAwMDAwfX0="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_resource_group",
      "name": "rg-spoke1",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-spoke1-28",
            "location": "swedencentral",
            "managed_by": "",
            "name": "rg-spoke1-28",
            "tags": {},
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "name": "rg-spoke1-28",
            "subscription_id": "dcef7009-6b94-4382-afdc-17eb160d709a"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo1NDAwMDAwMDAwMDAwLCJkZWxldGUiOjU0MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjo1NDAwMDAwMDAwMDAwfX0="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_resource_group",
      "name": "rg-spoke2",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-spoke2-28",
            "location": "swedencentral",
            "managed_by": "",
            "name": "rg-spoke2-28",
            "tags": {},
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "name": "rg-spoke2-28",
            "subscription_id": "dcef7009-6b94-4382-afdc-17eb160d709a"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo1NDAwMDAwMDAwMDAwLCJkZWxldGUiOjU0MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjo1NDAwMDAwMDAwMDAwfX0="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_role_assignment",
      "name": "identity-appgw-secret-user",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "condition": "",
            "condition_version": "",
            "delegated_managed_identity_resource_id": "",
            "description": "",
            "id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-spoke1-28/providers/Microsoft.KeyVault/vaults/kv-appgw-t8xie/providers/Microsoft.Authorization/roleAssignments/b3963e92-4f9e-c5c4-c86c-689b608a056b",
            "name": "b3963e92-4f9e-c5c4-c86c-689b608a056b",
            "principal_id": "3994e427-854d-4592-bb13-1d8ca1e22de9",
            "principal_type": "ServicePrincipal",
            "role_definition_id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/providers/Microsoft.Authorization/roleDefinitions/4633458b-17de-408a-b874-0445c86b69e6",
            "role_definition_name": "Key Vault Secrets User",
            "scope": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-spoke1-28/providers/Microsoft.KeyVault/vaults/kv-appgw-t8xie",
            "skip_service_principal_aad_check": null,
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMH19",
          "dependencies": [
            "azurerm_key_vault.keyvault",
            "azurerm_resource_group.rg-spoke1",
            "azurerm_user_assigned_identity.identity-appgw",
            "data.azurerm_client_config.current",
            "random_string.random"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_role_assignment",
      "name": "role-certificates-officer",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "condition": "",
            "condition_version": "",
            "delegated_managed_identity_resource_id": "",
            "description": "",
            "id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-spoke1-28/providers/Microsoft.KeyVault/vaults/kv-appgw-t8xie/providers/Microsoft.Authorization/roleAssignments/fa94e112-8f17-39a2-804c-2ccc391925ac",
            "name": "fa94e112-8f17-39a2-804c-2ccc391925ac",
            "principal_id": "8173c45d-035e-4692-8f40-540cd5fc0f18",
            "principal_type": "User",
            "role_definition_id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/providers/Microsoft.Authorization/roleDefinitions/a4417e6f-fecd-4de8-b567-7b0420556985",
            "role_definition_name": "Key Vault Certificates Officer",
            "scope": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-spoke1-28/providers/Microsoft.KeyVault/vaults/kv-appgw-t8xie",
            "skip_service_principal_aad_check": null,
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMH19",
          "dependencies": [
            "azurerm_key_vault.keyvault",
            "azurerm_resource_group.rg-spoke1",
            "data.azurerm_client_config.current",
            "random_string.random"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_route",
      "name": "route-to-nva-spoke1",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "address_prefix": "0.0.0.0/0",
            "id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-spoke1-28/providers/Microsoft.Network/routeTables/route-table-to-nva-spoke1/routes/route-to-nva-spoke1",
            "name": "route-to-nva-spoke1",
            "next_hop_in_ip_address": "172.16.0.4",
            "next_hop_type": "VirtualAppliance",
            "resource_group_name": "rg-spoke1-28",
            "route_table_name": "route-table-to-nva-spoke1",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "name": "route-to-nva-spoke1",
            "resource_group_name": "rg-spoke1-28",
            "route_table_name": "route-table-to-nva-spoke1",
            "subscription_id": "dcef7009-6b94-4382-afdc-17eb160d709a"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_firewall.firewall",
            "azurerm_firewall_policy.firewall-policy",
            "azurerm_public_ip.pip-firewall",
            "azurerm_resource_group.rg-hub",
            "azurerm_resource_group.rg-spoke1",
            "azurerm_route_table.route-table-to-nva-spoke1",
            "azurerm_subnet.snet-firewall",
            "azurerm_virtual_network.vnet-hub"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_route",
      "name": "route-to-nva-spoke2",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "address_prefix": "0.0.0.0/0",
            "id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-spoke2-28/providers/Microsoft.Network/routeTables/route-table-to-nva-spoke2/routes/route-to-nva-spoke2",
            "name": "route-to-nva-spoke2",
            "next_hop_in_ip_address": "172.16.0.4",
            "next_hop_type": "VirtualAppliance",
            "resource_group_name": "rg-spoke2-28",
            "route_table_name": "route-table-to-nva-spoke2",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "name": "route-to-nva-spoke2",
            "resource_group_name": "rg-spoke2-28",
            "route_table_name": "route-table-to-nva-spoke2",
            "subscription_id": "dcef7009-6b94-4382-afdc-17eb160d709a"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_firewall.firewall",
            "azurerm_firewall_policy.firewall-policy",
            "azurerm_public_ip.pip-firewall",
            "azurerm_resource_group.rg-hub",
            "azurerm_resource_group.rg-spoke2",
            "azurerm_route_table.route-table-to-nva-spoke2",
            "azurerm_subnet.snet-firewall",
            "azurerm_virtual_network.vnet-hub"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_route_table",
      "name": "route-table-to-nva-spoke1",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "bgp_route_propagation_enabled": false,
            "id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-spoke1-28/providers/Microsoft.Network/routeTables/route-table-to-nva-spoke1",
            "location": "swedencentral",
            "name": "route-table-to-nva-spoke1",
            "resource_group_name": "rg-spoke1-28",
            "route": [
              {
                "address_prefix": "0.0.0.0/0",
                "name": "route-to-nva-spoke1",
                "next_hop_in_ip_address": "172.16.0.4",
                "next_hop_type": "VirtualAppliance"
              }
            ],
            "subnets": [
              "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-spoke1-28/providers/Microsoft.Network/virtualNetworks/vnet-spoke1/subnets/subnet-spoke1-appgw"
            ],
            "tags": {},
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "name": "route-table-to-nva-spoke1",
            "resource_group_name": "rg-spoke1-28",
            "subscription_id": "dcef7009-6b94-4382-afdc-17eb160d709a"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.rg-spoke1"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_route_table",
      "name": "route-table-to-nva-spoke2",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "bgp_route_propagation_enabled": false,
            "id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-spoke2-28/providers/Microsoft.Network/routeTables/route-table-to-nva-spoke2",
            "location": "swedencentral",
            "name": "route-table-to-nva-spoke2",
            "resource_group_name": "rg-spoke2-28",
            "route": [
              {
                "address_prefix": "0.0.0.0/0",
                "name": "route-to-nva-spoke2",
                "next_hop_in_ip_address": "172.16.0.4",
                "next_hop_type": "VirtualAppliance"
              }
            ],
            "subnets": [
              "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-spoke2-28/providers/Microsoft.Network/virtualNetworks/vnet-spoke2/subnets/subnet-spoke2-workload"
            ],
            "tags": {},
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "name": "route-table-to-nva-spoke2",
            "resource_group_name": "rg-spoke2-28",
            "subscription_id": "dcef7009-6b94-4382-afdc-17eb160d709a"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.rg-spoke2"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_subnet",
      "name": "snet-bastion",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "address_prefixes": [
              "172.16.1.0/27"
            ],
            "default_outbound_access_enabled": true,
            "delegation": [],
            "id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-hub-28/providers/Microsoft.Network/virtualNetworks/vnet-hub/subnets/AzureBastionSubnet",
            "ip_address_pool": [],
            "name": "AzureBastionSubnet",
            "private_endpoint_network_policies": "Disabled",
            "private_link_service_network_policies_enabled": true,
            "resource_group_name": "rg-hub-28",
            "service_endpoint_policy_ids": [],
            "service_endpoints": [],
            "sharing_scope": "",
            "timeouts": null,
            "virtual_network_name": "vnet-hub"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "name": "AzureBastionSubnet",
            "resource_group_name": "rg-hub-28",
            "subscription_id": "dcef7009-6b94-4382-afdc-17eb160d709a",
            "virtual_network_name": "vnet-hub"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.rg-hub",
            "azurerm_virtual_network.vnet-hub"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_subnet",
      "name": "snet-firewall",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "address_prefixes": [
              "172.16.0.0/24"
            ],
            "default_outbound_access_enabled": true,
            "delegation": [],
            "id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-hub-28/providers/Microsoft.Network/virtualNetworks/vnet-hub/subnets/AzureFirewallSubnet",
            "ip_address_pool": [],
            "name": "AzureFirewallSubnet",
            "private_endpoint_network_policies": "Disabled",
            "private_link_service_network_policies_enabled": true,
            "resource_group_name": "rg-hub-28",
            "service_endpoint_policy_ids": [],
            "service_endpoints": [],
            "sharing_scope": "",
            "timeouts": null,
            "virtual_network_name": "vnet-hub"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "name": "AzureFirewallSubnet",
            "resource_group_name": "rg-hub-28",
            "subscription_id": "dcef7009-6b94-4382-afdc-17eb160d709a",
            "virtual_network_name": "vnet-hub"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.rg-hub",
            "azurerm_virtual_network.vnet-hub"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_subnet",
      "name": "snet-spoke1-appgw",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "address_prefixes": [
              "10.1.0.0/24"
            ],
            "default_outbound_access_enabled": true,
            "delegation": [
              {
                "name": "delegation",
                "service_delegation": [
                  {
                    "actions": [
                      "Microsoft.Network/virtualNetworks/subnets/join/action"
                    ],
                    "name": "Microsoft.Network/applicationGateways"
                  }
                ]
              }
            ],
            "id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-spoke1-28/providers/Microsoft.Network/virtualNetworks/vnet-spoke1/subnets/subnet-spoke1-appgw",
            "ip_address_pool": [],
            "name": "subnet-spoke1-appgw",
            "private_endpoint_network_policies": "Disabled",
            "private_link_service_network_policies_enabled": true,
            "resource_group_name": "rg-spoke1-28",
            "service_endpoint_policy_ids": [],
            "service_endpoints": [],
            "sharing_scope": "",
            "timeouts": null,
            "virtual_network_name": "vnet-spoke1"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "name": "subnet-spoke1-appgw",
            "resource_group_name": "rg-spoke1-28",
            "subscription_id": "dcef7009-6b94-4382-afdc-17eb160d709a",
            "virtual_network_name": "vnet-spoke1"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_firewall.firewall",
            "azurerm_firewall_policy.firewall-policy",
            "azurerm_public_ip.pip-firewall",
            "azurerm_resource_group.rg-hub",
            "azurerm_resource_group.rg-spoke1",
            "azurerm_subnet.snet-firewall",
            "azurerm_virtual_network.vnet-hub",
            "azurerm_virtual_network.vnet-spoke1"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_subnet",
      "name": "snet-spoke1-pe",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "address_prefixes": [
              "10.1.2.0/24"
            ],
            "default_outbound_access_enabled": true,
            "delegation": [],
            "id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-spoke1-28/providers/Microsoft.Network/virtualNetworks/vnet-spoke1/subnets/snet-spoke1-pe",
            "ip_address_pool": [],
            "name": "snet-spoke1-pe",
            "private_endpoint_network_policies": "Disabled",
            "private_link_service_network_policies_enabled": true,
            "resource_group_name": "rg-spoke1-28",
            "service_endpoint_policy_ids": [],
            "service_endpoints": [],
            "sharing_scope": "",
            "timeouts": null,
            "virtual_network_name": "vnet-spoke1"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "name": "snet-spoke1-pe",
            "resource_group_name": "rg-spoke1-28",
            "subscription_id": "dcef7009-6b94-4382-afdc-17eb160d709a",
            "virtual_network_name": "vnet-spoke1"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_firewall.firewall",
            "azurerm_firewall_policy.firewall-policy",
            "azurerm_public_ip.pip-firewall",
            "azurerm_resource_group.rg-hub",
            "azurerm_resource_group.rg-spoke1",
            "azurerm_subnet.snet-firewall",
            "azurerm_virtual_network.vnet-hub",
            "azurerm_virtual_network.vnet-spoke1"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_subnet",
      "name": "snet-spoke2-aca",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "address_prefixes": [
              "10.2.0.0/24"
            ],
            "default_outbound_access_enabled": true,
            "delegation": [
              {
                "name": "delegation",
                "service_delegation": [
                  {
                    "actions": [
                      "Microsoft.Network/virtualNetworks/subnets/join/action"
                    ],
                    "name": "Microsoft.App/environments"
                  }
                ]
              }
            ],
            "id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-spoke2-28/providers/Microsoft.Network/virtualNetworks/vnet-spoke2/subnets/subnet-spoke2-workload",
            "ip_address_pool": [],
            "name": "subnet-spoke2-workload",
            "private_endpoint_network_policies": "Disabled",
            "private_link_service_network_policies_enabled": true,
            "resource_group_name": "rg-spoke2-28",
            "service_endpoint_policy_ids": [],
            "service_endpoints": [],
            "sharing_scope": "",
            "timeouts": null,
            "virtual_network_name": "vnet-spoke2"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "name": "subnet-spoke2-workload",
            "resource_group_name": "rg-spoke2-28",
            "subscription_id": "dcef7009-6b94-4382-afdc-17eb160d709a",
            "virtual_network_name": "vnet-spoke2"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_firewall.firewall",
            "azurerm_firewall_policy.firewall-policy",
            "azurerm_public_ip.pip-firewall",
            "azurerm_resource_group.rg-hub",
            "azurerm_resource_group.rg-spoke2",
            "azurerm_subnet.snet-firewall",
            "azurerm_virtual_network.vnet-hub",
            "azurerm_virtual_network.vnet-spoke2"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_subnet_route_table_association",
      "name": "association_route_table_snet_spoke1_appgw",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-spoke1-28/providers/Microsoft.Network/virtualNetworks/vnet-spoke1/subnets/subnet-spoke1-appgw",
            "route_table_id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-spoke1-28/providers/Microsoft.Network/routeTables/route-table-to-nva-spoke1",
            "subnet_id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-spoke1-28/providers/Microsoft.Network/virtualNetworks/vnet-spoke1/subnets/subnet-spoke1-appgw",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMH19",
          "dependencies": [
            "azurerm_firewall.firewall",
            "azurerm_firewall_policy.firewall-policy",
            "azurerm_public_ip.pip-firewall",
            "azurerm_resource_group.rg-hub",
            "azurerm_resource_group.rg-spoke1",
            "azurerm_route_table.route-table-to-nva-spoke1",
            "azurerm_subnet.snet-firewall",
            "azurerm_subnet.snet-spoke1-appgw",
            "azurerm_virtual_network.vnet-hub",
            "azurerm_virtual_network.vnet-spoke1"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_subnet_route_table_association",
      "name": "association_route_table_subnet_spoke2",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-spoke2-28/providers/Microsoft.Network/virtualNetworks/vnet-spoke2/subnets/subnet-spoke2-workload",
            "route_table_id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-spoke2-28/providers/Microsoft.Network/routeTables/route-table-to-nva-spoke2",
            "subnet_id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-spoke2-28/providers/Microsoft.Network/virtualNetworks/vnet-spoke2/subnets/subnet-spoke2-workload",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMH19",
          "dependencies": [
            "azurerm_firewall.firewall",
            "azurerm_firewall_policy.firewall-policy",
            "azurerm_public_ip.pip-firewall",
            "azurerm_resource_group.rg-hub",
            "azurerm_resource_group.rg-spoke2",
            "azurerm_route_table.route-table-to-nva-spoke2",
            "azurerm_subnet.snet-firewall",
            "azurerm_subnet.snet-spoke2-aca",
            "azurerm_virtual_network.vnet-hub",
            "azurerm_virtual_network.vnet-spoke2"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_user_assigned_identity",
      "name": "identity-appgw",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "client_id": "47d735ae-b71e-41a0-a9f6-8116c7680541",
            "id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-spoke1-28/providers/Microsoft.ManagedIdentity/userAssignedIdentities/identity-appgw",
            "location": "swedencentral",
            "name": "identity-appgw",
            "principal_id": "3994e427-854d-4592-bb13-1d8ca1e22de9",
            "resource_group_name": "rg-spoke1-28",
            "tags": {},
            "tenant_id": "93139d1e-a3c1-4d78-9ed5-878be090eba4",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=",
          "dependencies": [
            "azurerm_resource_group.rg-spoke1"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_virtual_network",
      "name": "vnet-hub",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "address_space": [
              "172.16.0.0/12"
            ],
            "bgp_community": "",
            "ddos_protection_plan": [],
            "dns_servers": [],
            "edge_zone": "",
            "encryption": [],
            "flow_timeout_in_minutes": 0,
            "guid": "2eb443c5-155c-4b4f-90dd-b024ad65bc34",
            "id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-hub-28/providers/Microsoft.Network/virtualNetworks/vnet-hub",
            "ip_address_pool": [],
            "location": "swedencentral",
            "name": "vnet-hub",
            "private_endpoint_vnet_policies": "Disabled",
            "resource_group_name": "rg-hub-28",
            "subnet": [
              {
                "address_prefixes": [
                  "172.16.0.0/24"
                ],
                "default_outbound_access_enabled": true,
                "delegation": [],
                "id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-hub-28/providers/Microsoft.Network/virtualNetworks/vnet-hub/subnets/AzureFirewallSubnet",
                "name": "AzureFirewallSubnet",
                "private_endpoint_network_policies": "Disabled",
                "private_link_service_network_policies_enabled": true,
                "route_table_id": "",
                "security_group": "",
                "service_endpoint_policy_ids": [],
                "service_endpoints": []
              },
              {
                "address_prefixes": [
                  "172.16.1.0/27"
                ],
                "default_outbound_access_enabled": true,
                "delegation": [],
                "id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-hub-28/providers/Microsoft.Network/virtualNetworks/vnet-hub/subnets/AzureBastionSubnet",
                "name": "AzureBastionSubnet",
                "private_endpoint_network_policies": "Disabled",
                "private_link_service_network_policies_enabled": true,
                "route_table_id": "",
                "security_group": "",
                "service_endpoint_policy_ids": [],
                "service_endpoints": []
              }
            ],
            "tags": {},
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "name": "vnet-hub",
            "resource_group_name": "rg-hub-28",
            "subscription_id": "dcef7009-6b94-4382-afdc-17eb160d709a"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.rg-hub"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_virtual_network",
      "name": "vnet-spoke1",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "address_space": [
              "10.1.0.0/16"
            ],
            "bgp_community": "",
            "ddos_protection_plan": [],
            "dns_servers": [
              "172.16.0.4"
            ],
            "edge_zone": "",
            "encryption": [],
            "flow_timeout_in_minutes": 0,
            "guid": "7af676d3-68d0-4909-b29f-7e953aa023c0",
            "id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-spoke1-28/providers/Microsoft.Network/virtualNetworks/vnet-spoke1",
            "ip_address_pool": [],
            "location": "swedencentral",
            "name": "vnet-spoke1",
            "private_endpoint_vnet_policies": "Disabled",
            "resource_group_name": "rg-spoke1-28",
            "subnet": [
              {
                "address_prefixes": [
                  "10.1.0.0/24"
                ],
                "default_outbound_access_enabled": true,
                "delegation": [
                  {
                    "name": "delegation",
                    "service_delegation": [
                      {
                        "actions": [
                          "Microsoft.Network/virtualNetworks/subnets/join/action"
                        ],
                        "name": "Microsoft.Network/applicationGateways"
                      }
                    ]
                  }
                ],
                "id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-spoke1-28/providers/Microsoft.Network/virtualNetworks/vnet-spoke1/subnets/subnet-spoke1-appgw",
                "name": "subnet-spoke1-appgw",
                "private_endpoint_network_policies": "Disabled",
                "private_link_service_network_policies_enabled": true,
                "route_table_id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-spoke1-28/providers/Microsoft.Network/routeTables/route-table-to-nva-spoke1",
                "security_group": "",
                "service_endpoint_policy_ids": [],
                "service_endpoints": []
              },
              {
                "address_prefixes": [
                  "10.1.2.0/24"
                ],
                "default_outbound_access_enabled": true,
                "delegation": [],
                "id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-spoke1-28/providers/Microsoft.Network/virtualNetworks/vnet-spoke1/subnets/snet-spoke1-pe",
                "name": "snet-spoke1-pe",
                "private_endpoint_network_policies": "Disabled",
                "private_link_service_network_policies_enabled": true,
                "route_table_id": "",
                "security_group": "",
                "service_endpoint_policy_ids": [],
                "service_endpoints": []
              }
            ],
            "tags": {},
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "name": "vnet-spoke1",
            "resource_group_name": "rg-spoke1-28",
            "subscription_id": "dcef7009-6b94-4382-afdc-17eb160d709a"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_firewall.firewall",
            "azurerm_firewall_policy.firewall-policy",
            "azurerm_public_ip.pip-firewall",
            "azurerm_resource_group.rg-hub",
            "azurerm_resource_group.rg-spoke1",
            "azurerm_subnet.snet-firewall",
            "azurerm_virtual_network.vnet-hub"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_virtual_network",
      "name": "vnet-spoke2",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "address_space": [
              "10.2.0.0/16"
            ],
            "bgp_community": "",
            "ddos_protection_plan": [],
            "dns_servers": [
              "172.16.0.4"
            ],
            "edge_zone": "",
            "encryption": [],
            "flow_timeout_in_minutes": 0,
            "guid": "925418c2-67e7-46ad-ac2b-10e82a605660",
            "id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-spoke2-28/providers/Microsoft.Network/virtualNetworks/vnet-spoke2",
            "ip_address_pool": [],
            "location": "swedencentral",
            "name": "vnet-spoke2",
            "private_endpoint_vnet_policies": "Disabled",
            "resource_group_name": "rg-spoke2-28",
            "subnet": [
              {
                "address_prefixes": [
                  "10.2.0.0/24"
                ],
                "default_outbound_access_enabled": true,
                "delegation": [
                  {
                    "name": "delegation",
                    "service_delegation": [
                      {
                        "actions": [
                          "Microsoft.Network/virtualNetworks/subnets/join/action"
                        ],
                        "name": "Microsoft.App/environments"
                      }
                    ]
                  }
                ],
                "id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-spoke2-28/providers/Microsoft.Network/virtualNetworks/vnet-spoke2/subnets/subnet-spoke2-workload",
                "name": "subnet-spoke2-workload",
                "private_endpoint_network_policies": "Disabled",
                "private_link_service_network_policies_enabled": true,
                "route_table_id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-spoke2-28/providers/Microsoft.Network/routeTables/route-table-to-nva-spoke2",
                "security_group": "",
                "service_endpoint_policy_ids": [],
                "service_endpoints": []
              }
            ],
            "tags": {},
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "name": "vnet-spoke2",
            "resource_group_name": "rg-spoke2-28",
            "subscription_id": "dcef7009-6b94-4382-afdc-17eb160d709a"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_firewall.firewall",
            "azurerm_firewall_policy.firewall-policy",
            "azurerm_public_ip.pip-firewall",
            "azurerm_resource_group.rg-hub",
            "azurerm_resource_group.rg-spoke2",
            "azurerm_subnet.snet-firewall",
            "azurerm_virtual_network.vnet-hub"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_virtual_network_peering",
      "name": "vnet-peering-hub-to-spoke1",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "allow_forwarded_traffic": true,
            "allow_gateway_transit": false,
            "allow_virtual_network_access": true,
            "id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-hub-28/providers/Microsoft.Network/virtualNetworks/vnet-hub/virtualNetworkPeerings/vnet-peering-hub-to-spoke1",
            "local_subnet_names": [],
            "name": "vnet-peering-hub-to-spoke1",
            "only_ipv6_peering_enabled": false,
            "peer_complete_virtual_networks_enabled": true,
            "remote_subnet_names": [],
            "remote_virtual_network_id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-spoke1-28/providers/Microsoft.Network/virtualNetworks/vnet-spoke1",
            "resource_group_name": "rg-hub-28",
            "timeouts": null,
            "triggers": null,
            "use_remote_gateways": false,
            "virtual_network_name": "vnet-hub"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_firewall.firewall",
            "azurerm_firewall_policy.firewall-policy",
            "azurerm_public_ip.pip-firewall",
            "azurerm_resource_group.rg-hub",
            "azurerm_resource_group.rg-spoke1",
            "azurerm_subnet.snet-firewall",
            "azurerm_virtual_network.vnet-hub",
            "azurerm_virtual_network.vnet-spoke1"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_virtual_network_peering",
      "name": "vnet-peering-hub-to-spoke2",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "allow_forwarded_traffic": true,
            "allow_gateway_transit": false,
            "allow_virtual_network_access": true,
            "id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-hub-28/providers/Microsoft.Network/virtualNetworks/vnet-hub/virtualNetworkPeerings/vnet-peering-hub-to-spoke2",
            "local_subnet_names": [],
            "name": "vnet-peering-hub-to-spoke2",
            "only_ipv6_peering_enabled": false,
            "peer_complete_virtual_networks_enabled": true,
            "remote_subnet_names": [],
            "remote_virtual_network_id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-spoke2-28/providers/Microsoft.Network/virtualNetworks/vnet-spoke2",
            "resource_group_name": "rg-hub-28",
            "timeouts": null,
            "triggers": null,
            "use_remote_gateways": false,
            "virtual_network_name": "vnet-hub"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_firewall.firewall",
            "azurerm_firewall_policy.firewall-policy",
            "azurerm_public_ip.pip-firewall",
            "azurerm_resource_group.rg-hub",
            "azurerm_resource_group.rg-spoke2",
            "azurerm_subnet.snet-firewall",
            "azurerm_virtual_network.vnet-hub",
            "azurerm_virtual_network.vnet-spoke2"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_virtual_network_peering",
      "name": "vnet-peering-spoke1-to-hub",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "allow_forwarded_traffic": true,
            "allow_gateway_transit": false,
            "allow_virtual_network_access": true,
            "id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-spoke1-28/providers/Microsoft.Network/virtualNetworks/vnet-spoke1/virtualNetworkPeerings/vnet-peering-spoke1-to-hub",
            "local_subnet_names": [],
            "name": "vnet-peering-spoke1-to-hub",
            "only_ipv6_peering_enabled": false,
            "peer_complete_virtual_networks_enabled": true,
            "remote_subnet_names": [],
            "remote_virtual_network_id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-hub-28/providers/Microsoft.Network/virtualNetworks/vnet-hub",
            "resource_group_name": "rg-spoke1-28",
            "timeouts": null,
            "triggers": null,
            "use_remote_gateways": false,
            "virtual_network_name": "vnet-spoke1"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_firewall.firewall",
            "azurerm_firewall_policy.firewall-policy",
            "azurerm_public_ip.pip-firewall",
            "azurerm_resource_group.rg-hub",
            "azurerm_resource_group.rg-spoke1",
            "azurerm_subnet.snet-firewall",
            "azurerm_virtual_network.vnet-hub",
            "azurerm_virtual_network.vnet-spoke1"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_virtual_network_peering",
      "name": "vnet-peering-spoke2-to-hub",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "allow_forwarded_traffic": true,
            "allow_gateway_transit": false,
            "allow_virtual_network_access": true,
            "id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-spoke2-28/providers/Microsoft.Network/virtualNetworks/vnet-spoke2/virtualNetworkPeerings/vnet-peering-spoke2-to-hub",
            "local_subnet_names": [],
            "name": "vnet-peering-spoke2-to-hub",
            "only_ipv6_peering_enabled": false,
            "peer_complete_virtual_networks_enabled": true,
            "remote_subnet_names": [],
            "remote_virtual_network_id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-hub-28/providers/Microsoft.Network/virtualNetworks/vnet-hub",
            "resource_group_name": "rg-spoke2-28",
            "timeouts": null,
            "triggers": null,
            "use_remote_gateways": false,
            "virtual_network_name": "vnet-spoke2"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_firewall.firewall",
            "azurerm_firewall_policy.firewall-policy",
            "azurerm_public_ip.pip-firewall",
            "azurerm_resource_group.rg-hub",
            "azurerm_resource_group.rg-spoke2",
            "azurerm_subnet.snet-firewall",
            "azurerm_virtual_network.vnet-hub",
            "azurerm_virtual_network.vnet-spoke2"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "random_string",
      "name": "random",
      "provider": "provider[\"registry.terraform.io/hashicorp/random\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "id": "t8xie",
            "keepers": null,
            "length": 5,
            "lower": true,
            "min_lower": 0,
            "min_numeric": 0,
            "min_special": 0,
            "min_upper": 0,
            "number": true,
            "numeric": true,
            "override_special": null,
            "result": "t8xie",
            "special": false,
            "upper": false
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0
        }
      ]
    },
    {
      "module": "module.appservice_domain",
      "mode": "managed",
      "type": "azapi_resource",
      "name": "appservice_domain",
      "provider": "provider[\"registry.terraform.io/azure/azapi\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "body": {
              "value": {
                "properties": {
                  "autoRenew": false,
                  "consent": {
                    "agreedAt": "2024-01-01T9:00:00.000Z",
                    "agreedBy": "2a04:cec0:11d9:24c8:8898:3820:8631:d83",
                    "agreementKeys": [
                      "DNRA"
                    ]
                  },
                  "contactAdmin": {
                    "addressMailing": {
                      "address1": "123 Main St",
                      "city": "New York",
                      "country": "US",
                      "postalCode": "12345",
                      "state": "New York"
                    },
                    "email": "john.doe@example.com",
                    "nameFirst": "John",
                    "nameLast": "Doe",
                    "phone": "+1.762954328"
                  },
                  "contactBilling": {
                    "addressMailing": {
                      "address1": "123 Main St",
                      "city": "New York",
                      "country": "US",
                      "postalCode": "12345",
                      "state": "New York"
                    },
                    "email": "john.doe@example.com",
                    "nameFirst": "John",
                    "nameLast": "Doe",
                    "phone": "+1.762954328"
                  },
                  "contactRegistrant": {
                    "addressMailing": {
                      "address1": "123 Main St",
                      "city": "New York",
                      "country": "US",
                      "postalCode": "12345",
                      "state": "New York"
                    },
                    "email": "john.doe@example.com",
                    "nameFirst": "John",
                    "nameLast": "Doe",
                    "phone": "+1.762954328"
                  },
                  "contactTech": {
                    "addressMailing": {
                      "address1": "123 Main St",
                      "city": "New York",
                      "country": "US",
                      "postalCode": "12345",
                      "state": "New York"
                    },
                    "email": "john.doe@example.com",
                    "nameFirst": "John",
                    "nameLast": "Doe",
                    "phone": "+1.762954328"
                  },
                  "dnsType": "AzureDns",
                  "dnsZoneId": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-hub-28/providers/Microsoft.Network/dnsZones/azure-aca-apps.com",
                  "privacy": false
                }
              },
              "type": [
                "object",
                {
                  "properties": [
                    "object",
                    {
                      "autoRenew": "bool",
                      "consent": [
                        "object",
                        {
                          "agreedAt": "string",
                          "agreedBy": "string",
                          "agreementKeys": [
                            "tuple",
                            [
                              "string"
                            ]
                          ]
                        }
                      ],
                      "contactAdmin": [
                        "object",
                        {
                          "addressMailing": [
                            "object",
                            {
                              "address1": "string",
                              "city": "string",
                              "country": "string",
                              "postalCode": "string",
                              "state": "string"
                            }
                          ],
                          "email": "string",
                          "nameFirst": "string",
                          "nameLast": "string",
                          "phone": "string"
                        }
                      ],
                      "contactBilling": [
                        "object",
                        {
                          "addressMailing": [
                            "object",
                            {
                              "address1": "string",
                              "city": "string",
                              "country": "string",
                              "postalCode": "string",
                              "state": "string"
                            }
                          ],
                          "email": "string",
                          "nameFirst": "string",
                          "nameLast": "string",
                          "phone": "string"
                        }
                      ],
                      "contactRegistrant": [
                        "object",
                        {
                          "addressMailing": [
                            "object",
                            {
                              "address1": "string",
                              "city": "string",
                              "country": "string",
                              "postalCode": "string",
                              "state": "string"
                            }
                          ],
                          "email": "string",
                          "nameFirst": "string",
                          "nameLast": "string",
                          "phone": "string"
                        }
                      ],
                      "contactTech": [
                        "object",
                        {
                          "addressMailing": [
                            "object",
                            {
                              "address1": "string",
                              "city": "string",
                              "country": "string",
                              "postalCode": "string",
                              "state": "string"
                            }
                          ],
                          "email": "string",
                          "nameFirst": "string",
                          "nameLast": "string",
                          "phone": "string"
                        }
                      ],
                      "dnsType": "string",
                      "dnsZoneId": "string",
                      "privacy": "bool"
                    }
                  ]
                }
              ]
            },
            "create_headers": null,
            "create_query_parameters": null,
            "delete_headers": null,
            "delete_query_parameters": null,
            "id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-hub-28/providers/Microsoft.DomainRegistration/domains/azure-aca-apps.com",
            "identity": [],
            "ignore_casing": false,
            "ignore_missing_property": true,
            "ignore_null_property": false,
            "location": "global",
            "locks": null,
            "name": "azure-aca-apps.com",
            "output": {
              "value": {
                "id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-hub-28/providers/Microsoft.DomainRegistration/domains/azure-aca-apps.com",
                "location": "global",
                "name": "azure-aca-apps.com",
                "properties": {
                  "autoRenew": false,
                  "createdTime": "2025-11-24T06:26:42",
                  "dnsType": "AzureDns",
                  "dnsZoneId": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-hub-28/providers/Microsoft.Network/dnsZones/azure-aca-apps.com",
                  "domainNotRenewableReasons": [
                    "ExpirationNotInRenewalTimeRange",
                    "RegistrationStatusNotSupportedForRenewal"
                  ],
                  "expirationTime": "2026-11-24T06:26:42",
                  "isSoftDeleted": false,
                  "nameServers": [
                    "ns1-05.azure-dns.com",
                    "ns2-05.azure-dns.net",
                    "ns3-05.azure-dns.org",
                    "ns4-05.azure-dns.info"
                  ],
                  "privacy": false,
                  "provisioningState": "Succeeded",
                  "readyForDnsRecordManagement": false,
                  "registrationStatus": "Awaiting"
                },
                "type": "Microsoft.DomainRegistration/domains"
              },
              "type": [
                "object",
                {
                  "id": "string",
                  "location": "string",
                  "name": "string",
                  "properties": [
                    "object",
                    {
                      "autoRenew": "bool",
                      "createdTime": "string",
                      "dnsType": "string",
                      "dnsZoneId": "string",
                      "domainNotRenewableReasons": [
                        "tuple",
                        [
                          "string",
                          "string"
                        ]
                      ],
                      "expirationTime": "string",
                      "isSoftDeleted": "bool",
                      "nameServers": [
                        "tuple",
                        [
                          "string",
                          "string",
                          "string",
                          "string"
                        ]
                      ],
                      "privacy": "bool",
                      "provisioningState": "string",
                      "readyForDnsRecordManagement": "bool",
                      "registrationStatus": "string"
                    }
                  ],
                  "type": "string"
                }
              ]
            },
            "parent_id": "/subscriptions/dcef7009-6b94-4382-afdc-17eb160d709a/resourceGroups/rg-hub-28",
            "read_headers": null,
            "read_query_parameters": null,
            "replace_triggers_external_values": null,
            "replace_triggers_refs": null,
            "response_export_values": {
              "value": [
                "*"
              ],
              "type": [
                "tuple",
                [
                  "string"
                ]
              ]
            },
            "retry": null,
            "schema_validation_enabled": true,
            "sensitive_body": null,
            "sensitive_body_version": null,
            "tags": null,
            "timeouts": null,
            "type": "Microsoft.DomainRegistration/domains@2024-04-01",
            "update_headers": null,
            "update_query_parameters": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJzZW5zaXRpdmVfYm9keSI6ImV5Sm9ZWE5vSWpvaVpFTk9UMjFMTDI1VFdTc3hNblpJZW1GelRGaHBjM2Q2YkVkVU5WVklRVGRxUVVkWmEzWnRRM1ZSY3owaWZRPT0ifQ==",
          "dependencies": [
            "azurerm_dns_zone.dns-zone-apps",
            "azurerm_resource_group.rg-hub"
          ]
        }
      ]
    }
  ],
  "check_results": [
    {
      "object_kind": "var",
      "config_addr": "module.appservice_domain.var.custom_domain_name",
      "status": "pass",
      "objects": [
        {
          "object_addr": "module.appservice_domain.var.custom_domain_name",
          "status": "pass"
        }
      ]
    }
  ]
}
